{"ast":null,"code":"import React,{useState,useRef}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function WebcamCapture(){const videoRef=useRef(null);const[result,setResult]=useState(null);const captureAndSend=async()=>{const canvas=document.createElement(\"canvas\");canvas.width=640;canvas.height=480;const ctx=canvas.getContext(\"2d\");ctx.drawImage(videoRef.current,0,0,canvas.width,canvas.height);canvas.toBlob(async blob=>{const formData=new FormData();formData.append(\"frame\",blob,\"frame.jpg\");const res=await fetch(\"http://localhost:5000/analyze\",{method:\"POST\",body:formData});const data=await res.json();setResult(data);},\"image/jpeg\");};const startCamera=()=>{navigator.mediaDevices.getUserMedia({video:true}).then(stream=>{videoRef.current.srcObject=stream;videoRef.current.play();});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"video\",{ref:videoRef,width:640,height:480,autoPlay:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:startCamera,children:\"Start Webcam\"}),/*#__PURE__*/_jsx(\"button\",{onClick:captureAndSend,children:\"Capture & Analyze\"}),result&&/*#__PURE__*/_jsx(\"pre\",{children:JSON.stringify(result,null,2)})]});}export default WebcamCapture;","map":{"version":3,"names":["React","useState","useRef","jsx","_jsx","jsxs","_jsxs","WebcamCapture","videoRef","result","setResult","captureAndSend","canvas","document","createElement","width","height","ctx","getContext","drawImage","current","toBlob","blob","formData","FormData","append","res","fetch","method","body","data","json","startCamera","navigator","mediaDevices","getUserMedia","video","then","stream","srcObject","play","children","ref","autoPlay","onClick","JSON","stringify"],"sources":["C:/Users/vishw/Desktop/bad-posture-app/frontend/src/WebcamCapture.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\n\r\nfunction WebcamCapture() {\r\n  const videoRef = useRef(null);\r\n  const [result, setResult] = useState(null);\r\n\r\n  const captureAndSend = async () => {\r\n    const canvas = document.createElement(\"canvas\");\r\n    canvas.width = 640;\r\n    canvas.height = 480;\r\n    const ctx = canvas.getContext(\"2d\");\r\n    ctx.drawImage(videoRef.current, 0, 0, canvas.width, canvas.height);\r\n\r\n    canvas.toBlob(async (blob) => {\r\n      const formData = new FormData();\r\n      formData.append(\"frame\", blob, \"frame.jpg\");\r\n\r\n      const res = await fetch(\"http://localhost:5000/analyze\", {\r\n        method: \"POST\",\r\n        body: formData,\r\n      });\r\n\r\n      const data = await res.json();\r\n      setResult(data);\r\n    }, \"image/jpeg\");\r\n  };\r\n\r\n  const startCamera = () => {\r\n    navigator.mediaDevices.getUserMedia({ video: true }).then((stream) => {\r\n      videoRef.current.srcObject = stream;\r\n      videoRef.current.play();\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <video ref={videoRef} width={640} height={480} autoPlay />\r\n      <br />\r\n      <button onClick={startCamera}>Start Webcam</button>\r\n      <button onClick={captureAndSend}>Capture & Analyze</button>\r\n\r\n      {result && (\r\n        <pre>{JSON.stringify(result, null, 2)}</pre>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WebcamCapture;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACvB,KAAM,CAAAC,QAAQ,CAAGN,MAAM,CAAC,IAAI,CAAC,CAC7B,KAAM,CAACO,MAAM,CAAEC,SAAS,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAE1C,KAAM,CAAAU,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjC,KAAM,CAAAC,MAAM,CAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC,CAC/CF,MAAM,CAACG,KAAK,CAAG,GAAG,CAClBH,MAAM,CAACI,MAAM,CAAG,GAAG,CACnB,KAAM,CAAAC,GAAG,CAAGL,MAAM,CAACM,UAAU,CAAC,IAAI,CAAC,CACnCD,GAAG,CAACE,SAAS,CAACX,QAAQ,CAACY,OAAO,CAAE,CAAC,CAAE,CAAC,CAAER,MAAM,CAACG,KAAK,CAAEH,MAAM,CAACI,MAAM,CAAC,CAElEJ,MAAM,CAACS,MAAM,CAAC,KAAO,CAAAC,IAAI,EAAK,CAC5B,KAAM,CAAAC,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,CAAEH,IAAI,CAAE,WAAW,CAAC,CAE3C,KAAM,CAAAI,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,+BAA+B,CAAE,CACvDC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEN,QACR,CAAC,CAAC,CAEF,KAAM,CAAAO,IAAI,CAAG,KAAM,CAAAJ,GAAG,CAACK,IAAI,CAAC,CAAC,CAC7BrB,SAAS,CAACoB,IAAI,CAAC,CACjB,CAAC,CAAE,YAAY,CAAC,CAClB,CAAC,CAED,KAAM,CAAAE,WAAW,CAAGA,CAAA,GAAM,CACxBC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC,CAAEC,KAAK,CAAE,IAAK,CAAC,CAAC,CAACC,IAAI,CAAEC,MAAM,EAAK,CACpE9B,QAAQ,CAACY,OAAO,CAACmB,SAAS,CAAGD,MAAM,CACnC9B,QAAQ,CAACY,OAAO,CAACoB,IAAI,CAAC,CAAC,CACzB,CAAC,CAAC,CACJ,CAAC,CAED,mBACElC,KAAA,QAAAmC,QAAA,eACErC,IAAA,UAAOsC,GAAG,CAAElC,QAAS,CAACO,KAAK,CAAE,GAAI,CAACC,MAAM,CAAE,GAAI,CAAC2B,QAAQ,MAAE,CAAC,cAC1DvC,IAAA,QAAK,CAAC,cACNA,IAAA,WAAQwC,OAAO,CAAEZ,WAAY,CAAAS,QAAA,CAAC,cAAY,CAAQ,CAAC,cACnDrC,IAAA,WAAQwC,OAAO,CAAEjC,cAAe,CAAA8B,QAAA,CAAC,mBAAiB,CAAQ,CAAC,CAE1DhC,MAAM,eACLL,IAAA,QAAAqC,QAAA,CAAMI,IAAI,CAACC,SAAS,CAACrC,MAAM,CAAE,IAAI,CAAE,CAAC,CAAC,CAAM,CAC5C,EACE,CAAC,CAEV,CAEA,cAAe,CAAAF,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}